<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Image Generator - Ahsan Labs</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#ffffff',
                        secondary: '#000000'
                    },
                    borderRadius: {
                        'none': '0px',
                        'sm': '4px',
                        DEFAULT: '8px',
                        'md': '12px',
                        'lg': '16px',
                        'xl': '20px',
                        '2xl': '24px',
                        '3xl': '32px',
                        'full': '9999px',
                        'button': '8px'


                    },
                    fontFamily: {
                        'header': ['Inter', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        .animate-pulse-slow {
            animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .gradient-border {
            background: linear-gradient(45deg, #ffffff, #666666);
            padding: 2px;
            border-radius: 12px;
        }
        
        .gradient-border-inner {
            background: #000000;
            border-radius: 10px;
        }
        
        .file-drop-zone {
            transition: all 0.3s ease;
            border: 2px dashed #666666;
        }
        
        .file-drop-zone.dragover {
            border-color: #ffffff;
            background-color: rgba(255, 255, 255, 0.05);
        }
        
        .loading-spinner {
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-top: 3px solid #ffffff;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .ripple {
            position: relative;
            overflow: hidden;
        }
        
        .ripple::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .ripple:hover::before {
            width: 300px;
            height: 300px;
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .skeleton {
            background: linear-gradient(90deg, #1a1a1a 25%, #2a2a2a 50%, #1a1a1a 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }
        
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .file-preview-container,
        .generated-image-container {
            max-width: 100%;
            overflow: hidden;
            border-radius: 8px;
            box-sizing: border-box;
        }

        .file-preview-container img,
        .generated-image-container img {
            max-width: 100%;
            height: auto;
            object-fit: contain;
            display: block;
            border-radius: 8px;
        }

        /* Media Queries for Responsiveness */
        @media (max-width: 768px) {
            .text-5xl {
                font-size: 2.5rem;
            }
            .text-7xl {
                font-size: 3.5rem;
            }
            .max-w-4xl {
                padding-left: 1rem;
                padding-right: 1rem;
            }
            .max-w-2xl {
                max-width: 90vw;
            }
            .file-drop-zone {
                padding: 1.5rem;
            }
            .file-preview-container {
                max-width: 90vw;
                margin-left: auto;
                margin-right: auto;
            }
            .file-preview-container img {
                max-height: 40vh;
            }
            .generated-image-container {
                max-width: 90vw;
                margin-left: auto;
                margin-right: auto;
            }
            .generated-image-container img {
                max-height: 50vh;
            }
            .md\\:grid-cols-3 {
                grid-template-columns: 1fr;
            }
            .md\\:grid-cols-2 {
                grid-template-columns: 1fr;
            }
            .md\\:flex-row {
                flex-direction: column;
            }
            .navbar-links {
                flex-direction: column;
                align-items: center;
                gap: 1rem;
            }
            .text-xl {
                font-size: 1rem;
            }
            .text-4xl {
                font-size: 2rem;
            }
            .py-20 {
                padding-top: 4rem;
                padding-bottom: 4rem;
            }
            .px-4 {
                padding-left: 0.5rem;
                padding-right: 0.5rem;
            }
        }

        @media (min-width: 769px) {
            .navbar-links {
                display: flex;
                gap: 1.5rem;
            }
        }
    </style>
</head>
<body class="bg-black text-white min-h-screen">
    <nav class="fixed top-0 w-full bg-black bg-opacity-95 backdrop-blur-sm z-50 border-b border-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <div class="font-['Pacifico'] text-2xl text-white">Ahsan Labs</div>
                </div>
                
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-8 navbar-links font-header">
                        <a href="#home" class="text-white hover:text-gray-300 px-3 py-2 text-sm font-semibold transition-colors duration-300">Home</a>
                        <a href="#about" class="text-gray-300 hover:text-white px-3 py-2 text-sm font-semibold transition-colors duration-300">About</a>
                        <a href="#contact" class="text-gray-300 hover:text-white px-3 py-2 text-sm font-semibold transition-colors duration-300">Contact</a>
                    </div>
                </div>
                
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-gray-300 hover:text-white p-2">
                        <div class="w-6 h-6 flex items-center justify-center">
                            <i class="ri-menu-line ri-lg"></i>
                        </div>
                    </button>
                </div>
            </div>
        </div>
        
        <div id="mobile-menu" class="md:hidden hidden bg-black border-t border-gray-800">
            <div class="px-2 pt-2 pb-3 space-y-1 font-header">
                <a href="#home" class="text-white block px-3 py-2 text-base font-semibold">Home</a>
                <a href="#about" class="text-gray-300 hover:text-white block px-3 py-2 text-base font-semibold">About</a>
                <a href="#contact" class="text-gray-300 hover:text-white block px-3 py-2 text-base font-semibold">Contact</a>
            </div>
        </div>
    </nav>

    <main class="pt-16">
        <section id="home" class="min-h-screen flex items-center justify-center relative overflow-hidden">
            <div class="absolute inset-0 bg-gradient-to-br from-black via-gray-900 to-black"></div>
            <div class="absolute inset-0 opacity-10">
                <div class="absolute top-20 left-20 w-64 h-64 bg-white rounded-full blur-3xl animate-float"></div>
                <div class="absolute bottom-20 right-20 w-96 h-96 bg-gray-400 rounded-full blur-3xl animate-float" style="animation-delay: -3s;"></div>
            </div>
            
            <div class="relative z-10 max-w-4xl mx-auto px-4 text-center">
                <h1 class="text-5xl md:text-7xl font-bold mb-6 animate-pulse-slow">
                    AI Image Generator
                </h1>
                <p class="text-xl md:text-2xl text-gray-300 mb-12 max-w-2xl mx-auto">
                    Transform your images with cutting-edge AI technology. Upload, generate prompts, and create stunning visuals.
                </p>
                
                <div class="max-w-2xl mx-auto">
                    <div id="upload-section" class="mb-8">
                        <div class="file-drop-zone p-12 rounded-xl text-center cursor-pointer transition-all duration-300 hover:bg-gray-900">
                            <div class="w-16 h-16 flex items-center justify-center mx-auto mb-4">
                                <i class="ri-upload-cloud-2-line ri-3x text-gray-400"></i>
                            </div>
                            <p class="text-lg mb-4">Drag & drop your image here</p>
                            <p class="text-gray-400 mb-6">or</p>
                            <input type="file" id="file-input" accept="image/*" class="hidden">
                            <button id="choose-file-btn" class="bg-white text-black px-8 py-3 !rounded-button font-semibold font-header hover:bg-gray-200 transition-all duration-300 transform hover:scale-105 ripple whitespace-nowrap">
                                Choose File
                            </button>
                        </div>
                        
                        <div id="file-preview" class="hidden mt-8">
                            <div class="bg-gray-900 p-6 rounded-xl file-preview-container">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-lg font-semibold">Selected Image</h3>
                                    <button id="remove-file" class="text-gray-400 hover:text-white">
                                        <div class="w-6 h-6 flex items-center justify-center">
                                            <i class="ri-close-line ri-lg"></i>
                                        </div>
                                    </button>
                                </div>
                                <img id="preview-image" class="w-full max-h-64 object-contain rounded-lg mb-4" alt="Preview">
                                <p id="file-name" class="text-gray-400 text-sm"></p>
                            </div>
                        </div>
                    </div>
                    
                    <div id="generate-prompt-section" class="hidden mb-8">
                        <button id="generate-prompt-btn" class="bg-transparent border-2 border-white text-white px-8 py-3 !rounded-button font-semibold font-header hover:bg-white hover:text-black transition-all duration-300 transform hover:scale-105 ripple whitespace-nowrap">
                            <span class="flex items-center gap-2">
                                <div class="w-5 h-5 flex items-center justify-center">
                                    <i class="ri-magic-line"></i>
                                </div>
                                Generate Prompt
                            </span>
                        </button>
                    </div>
                    
                    <div id="prompt-result" class="hidden mb-8">
                        <div class="bg-gray-900 p-6 rounded-xl">
                            <h3 class="text-lg font-semibold mb-4">Generated Prompt</h3>
                            <div id="prompt-text" class="bg-black p-4 rounded-lg text-gray-300 border border-gray-700 whitespace-pre-wrap"></div>
                            <button id="copy-prompt-btn" class="mt-4 bg-white text-black px-6 py-2 !rounded-button font-semibold font-header hover:bg-gray-200 transition-all duration-300 whitespace-nowrap">
                                <span class="flex items-center gap-2">
                                    <div class="w-4 h-4 flex items-center justify-center">
                                        <i class="ri-clipboard-line"></i>
                                    </div>
                                    Copy Prompt
                                </span>
                            </button>
                        </div>
                    </div>
                    
                    <div id="generation-options" class="hidden mb-8">
                        <div class="grid md:grid-cols-3 gap-6">
                            <div>
                                <label for="aspect-ratio" class="block text-sm font-medium text-gray-300 mb-2">Aspect Ratio</label>
                                <select id="aspect-ratio" class="w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-white transition-colors duration-300">
                                    <option value="16:9">16:9</option>
                                    <option value="4:3">4:3</option>
                                    <option value="1:1">1:1</option>
                                    <option value="3:2">3:2</option>
                                </select>
                            </div>
                            <div class="flex items-end">
                                <button id="generate-watermark-btn" class="w-full bg-white text-black px-8 py-3 !rounded-button font-semibold font-header hover:bg-gray-200 transition-all duration-300 transform hover:scale-105 ripple whitespace-nowrap">
                                    <span class="flex items-center justify-center gap-2">
                                        <div class="w-5 h-5 flex items-center justify-center">
                                            <i class="ri-image-line"></i>
                                        </div>
                                        Watermark Image
                                    </span>
                                </button>
                            </div>
                            <div class="flex items-end">
                                <button id="generate-no-watermark-btn" class="w-full bg-transparent border-2 border-white text-white px-8 py-3 !rounded-button font-semibold font-header hover:bg-white hover:text-black transition-all duration-300 transform hover:scale-105 ripple whitespace-nowrap">
                                    <span class="flex items-center justify-center gap-2">
                                        <div class="w-5 h-5 flex items-center justify-center">
                                            <i class="ri-image-line"></i>
                                        </div>
                                        No Watermark Image
                                    </span>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div id="generated-image-section" class="hidden mt-8">
                        <div class="bg-gray-900 p-6 rounded-xl">
                            <h3 class="text-lg font-semibold mb-4">Generated Image</h3>
                            <div class="generated-image-container">
                                <img id="generated-image" alt="Generated">
                            </div>
                            <div class="mt-4 flex gap-4">
                                <button id="download-btn" class="bg-white text-black px-6 py-2 !rounded-button font-semibold font-header hover:bg-gray-200 transition-all duration-300 whitespace-nowrap">
                                    <span class="flex items-center gap-2">
                                        <div class="w-4 h-4 flex items-center justify-center">
                                            <i class="ri-download-line"></i>
                                        </div>
                                        Download
                                    </span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="about" class="py-20 bg-gray-900">
            <div class="max-w-7xl mx-auto px-4">
                <div class="text-center mb-16">
                    <h2 class="text-4xl md:text-5xl font-bold mb-6">About Ahsan Labs</h2>
                    <p class="text-xl text-gray-300 max-w-2xl mx-auto">
                        Ahsan Labs is dedicated to pushing the boundaries of AI-driven creativity. Our mission is to empower users to create stunning visuals effortlessly using cutting-edge generative AI technology. Founded by innovators passionate about art and technology, we strive to make AI accessible to everyone.
                    </p>
                </div>
            </div>
        </section>

        <section id="contact" class="py-20 bg-black">
            <div class="max-w-4xl mx-auto px-4">
                <div class="text-center mb-16">
                    <h2 class="text-4xl md:text-5xl font-bold mb-6">Get in Touch</h2>
                    <p class="text-xl text-gray-300 max-w-2xl mx-auto">
                        Have questions or feedback? We'd love to hear from you.
                    </p>
                </div>
                
                <div class="grid md:grid-cols-2 gap-12">
                    <div>
                        <form id="contact-form" class="space-y-6">
                            <div class="relative">
                                <input type="text" id="name" required class="w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-transparent focus:outline-none focus:border-white transition-colors duration-300">
                                <label for="name" class="absolute left-4 top-3 text-gray-400 transition-all duration-300 pointer-events-none">Full Name</label>
                            </div>
                            
                            <div class="relative">
                                <input type="email" id="email" required class="w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-transparent focus:outline-none focus:border-white transition-colors duration-300">
                                <label for="email" class="absolute left-4 top-3 text-gray-400 transition-all duration-300 pointer-events-none">Email Address</label>
                            </div>
                            
                            <div class="relative">
                                <textarea id="message" rows="5" required class="w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-transparent focus:outline-none focus:border-white transition-colors duration-300 resize-none"></textarea>
                                <label for="message" class="absolute left-4 top-3 text-gray-400 transition-all duration-300 pointer-events-none">Your Message</label>
                            </div>
                            
                            <button type="submit" class="w-full bg-white text-black px-8 py-3 !rounded-button font-semibold font-header hover:bg-gray-200 transition-all duration-300 transform hover:scale-105 ripple whitespace-nowrap">
                                Send Message
                            </button>
                        </form>
                    </div>
                    
                    <div class="space-y-8">
                        <div>
                            <h3 class="text-xl font-semibold mb-4">Connect With Us</h3>
                            <div class="space-y-4">
                                <div class="flex items-center gap-4">
                                    <div class="w-10 h-10 flex items-center justify-center bg-gray-900 rounded-lg">
                                        <i class="ri-mail-line text-white"></i>
                                    </div>
                                    <span class="text-gray-300">ahsanking1099@gmail.com</span>
                                </div>
                                
                                <div class="flex items-center gap-4">
                                    <div class="w-10 h-10 flex items-center justify-center bg-gray-900 rounded-lg">
                                        <i class="ri-phone-line text-white"></i>
                                    </div>
                                    <span class="text-gray-300">+92 3343926359</span>
                                </div>
                                
                                <div class="flex items-center gap-4">
                                    <div class="w-10 h-10 flex items-center justify-center bg-gray-900 rounded-lg">
                                        <i class="ri-map-pin-line text-white"></i>
                                    </div>
                                    <span class="text-gray-300">Pakistan</span>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-semibold mb-4">Follow Us</h3>
                            <div class="flex gap-4">
                                <a href="https://wa.me/923021236630" target="_blank" class="w-12 h-12 flex items-center justify-center bg-gray-900 rounded-lg hover:bg-white hover:text-black transition-all duration-300 transform hover:scale-110">
                                    <i class="ri-whatsapp-line"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer class="bg-gray-900 border-t border-gray-800">
        <div class="max-w-7xl mx-auto px-4 py-12">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <div class="font-['Pacifico'] text-2xl text-white mb-4">Ahsan Labs</div>
                    <p class="text-gray-400 mb-6">A Powerful Image To Image Generator, Special Tool For Video Editors.</p>
                    <div class="flex gap-4">
                        <a href="https://whatsapp.com/channel/0029Vb6cRL43GJOqdGUq4q0Q" target="_blank" class="w-10 h-10 flex items-center justify-center bg-black rounded-lg hover:bg-white hover:text-black transition-all duration-300">
                            <i class="ri-whatsapp-line"></i>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
                    <ul class="space-y-2 font-header">
                        <li><a href="#home" class="text-gray-400 hover:text-white transition-colors duration-300">Home</a></li>
                        <li><a href="#about" class="text-gray-400 hover:text-white transition-colors duration-300">About</a></li>
                        <li><a href="#contact" class="text-gray-400 hover:text-white transition-colors duration-300">Contact</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-4">Support</h3>
                    <ul class="space-y-2 font-header">
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-300">Help Center</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-300">Privacy Policy</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-300">Terms of Service</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-4">Newsletter</h3>
                    <p class="text-gray-400 mb-4">Stay updated with our latest features and updates.</p>
                    <div class="flex gap-2">
                        <input type="email" placeholder="Enter your email" class="flex-1 bg-black border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-white transition-colors duration-300">
                        <button class="bg-white text-black px-4 py-2 !rounded-button font-semibold font-header hover:bg-gray-200 transition-all duration-300 whitespace-nowrap">
                            Subscribe
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-12 pt-8">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <p class="text-gray-400 text-sm">© 2025 Ahsan Labs. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>
    <script id="disable-devtools-script">
        document.addEventListener('DOMContentLoaded', function() {
            document.addEventListener('contextmenu', (e) => e.preventDefault());
            document.addEventListener('keydown', (e) => {
                if (
                    e.key === 'F12' ||
                    (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'C' || e.key === 'J')) ||
                    (e.ctrlKey && e.key === 'U')
                ) {
                    e.preventDefault();
                }
            });
        });
    </script>

    <script id="mobile-menu-script">
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            
            mobileMenuButton.addEventListener('click', function() {
                mobileMenu.classList.toggle('hidden');
            });
        });
    </script>

    <script id="file-upload-script">
        document.addEventListener('DOMContentLoaded', function() {
            const fileInput = document.getElementById('file-input');
            const chooseFileBtn = document.getElementById('choose-file-btn');
            const filePreview = document.getElementById('file-preview');
            const previewImage = document.getElementById('preview-image');
            const fileName = document.getElementById('file-name');
            const removeFileBtn = document.getElementById('remove-file');
            const generatePromptSection = document.getElementById('generate-prompt-section');
            const dropZone = document.querySelector('.file-drop-zone');
            
            let selectedFile = null;
            
            chooseFileBtn.addEventListener('click', () => fileInput.click());
            
            fileInput.addEventListener('change', handleFileSelect);
            
            dropZone.addEventListener('dragover', (e) => {
                e.preventDefault();
                dropZone.classList.add('dragover');
            });
            
            dropZone.addEventListener('dragleave', () => {
                dropZone.classList.remove('dragover');
            });
            
            dropZone.addEventListener('drop', (e) => {
                e.preventDefault();
                dropZone.classList.remove('dragover');
                const files = e.dataTransfer.files;
                if (files.length > 0 && files[0].type.startsWith('image/')) {
                    fileInput.files = files;
                    handleFileSelect();
                }
            });
            
            removeFileBtn.addEventListener('click', () => {
                selectedFile = null;
                fileInput.value = '';
                filePreview.classList.add('hidden');
                generatePromptSection.classList.add('hidden');
                document.getElementById('prompt-result').classList.add('hidden');
                document.getElementById('generation-options').classList.add('hidden');
                document.getElementById('generated-image-section').classList.add('hidden');
            });
            
            function handleFileSelect() {
                const file = fileInput.files[0];
                if (file && file.type.startsWith('image/')) {
                    selectedFile = file;
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        previewImage.src = e.target.result;
                        fileName.textContent = file.name;
                        filePreview.classList.remove('hidden');
                        generatePromptSection.classList.remove('hidden');
                    };
                    reader.readAsDataURL(file);
                }
            }
        });
    </script>

    <script id="prompt-generation-script">
        document.addEventListener('DOMContentLoaded', function() {
            const generatePromptBtn = document.getElementById('generate-prompt-btn');
            const promptResult = document.getElementById('prompt-result');
            const promptText = document.getElementById('prompt-text');
            const copyPromptBtn = document.getElementById('copy-prompt-btn');
            const generationOptions = document.getElementById('generation-options');
            const fileInput = document.getElementById('file-input');
            const API_KEY = 'AIzaSyC1BgCOCGP58kas9aGBBU69MWcaqN5Uwkg';
            const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${API_KEY}`;
            
            generatePromptBtn.addEventListener('click', async function() {
                const originalHTML = generatePromptBtn.innerHTML;
                generatePromptBtn.innerHTML = '<div class="loading-spinner"></div>';
                generatePromptBtn.disabled = true;
                
                try {
                    const file = fileInput.files[0];
                    if (!file) {
                        throw new Error('No image selected');
                    }

                    // Convert image file to base64
                    const reader = new FileReader();
                    const base64Image = await new Promise((resolve) => {
                        reader.onload = () => resolve(reader.result.split(',')[1]);
                        reader.readAsDataURL(file);
                    });

                    // Prepare request body for Gemini API
                    const requestBody = {
                        contents: [
                            {
                                parts: [
                                    {
                                        inline_data: {
                                            mime_type: file.type,
                                            data: base64Image
                                        }
                                    },
                                    {
                                        text: `Analyze this image and generate a concise, detailed prompt (500-1000 characters) for creating a similar image in a hyper-realistic digital art style. Structure the prompt with sections: Subject, Background, Style, Lighting, Colors. Include specific details like textures, reflections, and environmental effects (e.g., fog, dust). Ensure the prompt is cinematic, luxurious, and suitable for Pollinations.ai and Bing Image Creator. Strictly limit to 1000 characters.`
                                    }
                                ]
                            }
                        ]
                    };

                    // Make API call to Gemini
                    const response = await fetch(API_URL, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(requestBody)
                    });

                    if (!response.ok) {
                        throw new Error(`API request failed: ${response.statusText}`);
                    }

                    const result = await response.json();
                    let generatedPrompt = result.candidates[0].content.parts[0].text;

                    // Structure the prompt if not already formatted
                    if (!generatedPrompt.includes('Subject:')) {
                        generatedPrompt = `
Subject: ${generatedPrompt.substring(0, 150).trim()} (e.g., sleek BMW M-3, low stance).
Background: Matte black studio, carbon fiber textures, subtle fog.
Style: Hyper-realistic digital art, cinematic angles.
Lighting: High-contrast, sharp shadows, sapphire-blue glow.
Colors: Metallic silvers, deep blacks, neon red accents.
`.trim();
                    }

                    // Trim or pad prompt to 500-1000 characters
                    if (generatedPrompt.length > 1000) {
                        generatedPrompt = generatedPrompt.substring(0, 1000).trim() + '...';
                    } else if (generatedPrompt.length < 500) {
                        generatedPrompt += '\nAdditional: Dynamic composition, glossy reflections, subtle haze, chrome accents.';
                        generatedPrompt = generatedPrompt.substring(0, 1000).trim();
                    }

                    // Display the generated prompt
                    promptText.textContent = generatedPrompt;
                    promptResult.classList.remove('hidden');
                    generationOptions.classList.remove('hidden');
                } catch (error) {
                    console.error('Error generating prompt:', error);
                    promptText.textContent = `Failed to generate prompt: ${error.message}. Please try again.`;
                    promptResult.classList.remove('hidden');
                } finally {
                    generatePromptBtn.innerHTML = originalHTML;
                    generatePromptBtn.disabled = false;
                }
            });

            copyPromptBtn.addEventListener('click', function() {
                const prompt = promptText.textContent;
                // Try modern clipboard API
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    navigator.clipboard.writeText(prompt).then(() => {
                        copyPromptBtn.innerHTML = '<span class="flex items-center gap-2"><div class="w-4 h-4 flex items-center justify-center"><i class="ri-check-line"></i></div>Copied!</span>';
                        setTimeout(() => {
                            copyPromptBtn.innerHTML = '<span class="flex items-center gap-2"><div class="w-4 h-4 flex items-center justify-center"><i class="ri-clipboard-line"></i></div>Copy Prompt</span>';
                        }, 2000);
                    }).catch(err => {
                        console.error('Clipboard API failed:', err);
                        // Fallback to document.execCommand
                        fallbackCopyText(prompt);
                    });
                } else {
                    // Fallback for older browsers
                    fallbackCopyText(prompt);
                }
            });

            function fallbackCopyText(text) {
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand('copy');
                    copyPromptBtn.innerHTML = '<span class="flex items-center gap-2"><div class="w-4 h-4 flex items-center justify-center"><i class="ri-check-line"></i></div>Copied!</span>';
                    setTimeout(() => {
                        copyPromptBtn.innerHTML = '<span class="flex items-center gap-2"><div class="w-4 h-4 flex items-center justify-center"><i class="ri-clipboard-line"></i></div>Copy Prompt</span>';
                    }, 2000);
                } catch (err) {
                    console.error('Fallback copy failed:', err);
                    alert('Failed to copy prompt. Please select and copy manually.');
                }
                document.body.removeChild(textArea);
            }
        });
    </script>

    <script id="image-generation-script">
        document.addEventListener('DOMContentLoaded', function() {
            const generateWatermarkBtn = document.getElementById('generate-watermark-btn');
            const generateNoWatermarkBtn = document.getElementById('generate-no-watermark-btn');
            const generatedImageSection = document.getElementById('generated-image-section');
            const generatedImage = document.getElementById('generated-image');
            const downloadBtn = document.getElementById('download-btn');
            const aspectRatioSelect = document.getElementById('aspect-ratio');
            
            generateWatermarkBtn.addEventListener('click', function() {
                const promptText = document.getElementById('prompt-text').textContent;
                const originalHTML = generateWatermarkBtn.innerHTML;
                generateWatermarkBtn.innerHTML = '<div class="loading-spinner"></div>';
                generateWatermarkBtn.disabled = true;
                
                const ratio = aspectRatioSelect.value;
                let width, height;
                switch (ratio) {
                    case '1:1': width = 800; height = 800; break;
                    case '4:3': width = 800; height = 600; break;
                    case '16:9': width = 800; height = 450; break;
                    case '3:2': width = 800; height = 533; break;
                }
                
                // Encode prompt and ensure it fits within URL length limits
                let encodedPrompt = encodeURIComponent(promptText.substring(0, 1000));
                const maxUrlLength = 2000; // Typical browser URL length limit
                const baseUrl = `https://image.pollinations.ai/prompt/${encodedPrompt}?width=${width}&height=${height}&seed=${Math.floor(Math.random() * 1000000)}&nwm=false`;
                if (baseUrl.length > maxUrlLength) {
                    encodedPrompt = encodeURIComponent(promptText.substring(0, 500)); // Further trim if needed
                }
                const imageUrl = `https://image.pollinations.ai/prompt/${encodedPrompt}?width=${width}&height=${height}&seed=${Math.floor(Math.random() * 1000000)}&nwm=false`;
                
                generatedImage.src = imageUrl;
                generatedImage.onload = function() {
                    generatedImageSection.classList.remove('hidden');
                    generateWatermarkBtn.innerHTML = originalHTML;
                    generateWatermarkBtn.disabled = false;
                };
                
                generatedImage.onerror = function() {
                    generateWatermarkBtn.innerHTML = originalHTML;
                    generateWatermarkBtn.disabled = false;
                    alert('Failed to generate image. Please try again.');
                };
            });
            
            generateNoWatermarkBtn.addEventListener('click', function() {
                const promptText = document.getElementById('prompt-text').textContent.substring(0, 1000);
                const encodedPrompt = encodeURIComponent(promptText);
                const maxUrlLength = 2000;
                const baseUrl = `https://www.bing.com/images/create/ai-generator/646d6375c8824dff9a73c6e9a3b4cbc2?q=${encodedPrompt}`;
                if (baseUrl.length > maxUrlLength) {
                    alert('Prompt is too long for Bing Image Creator. Please copy and paste it manually.');
                    return;
                }
                window.open(baseUrl, '_blank');
            });
            
            downloadBtn.addEventListener('click', async function() {
                const imageUrl = generatedImage.src;
                try {
                    const response = await fetch(imageUrl);
                    if (!response.ok) {
                        throw new Error('Failed to fetch image');
                    }
                    const blob = await response.blob();
                    const url = window.URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.href = url;
                    link.download = 'generated-image.jpg';
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    window.URL.revokeObjectURL(url);
                } catch (error) {
                    console.error('Download failed:', error);
                    alert('Failed to download image. Please try again.');
                }
            });
        });
    </script>

    <script id="contact-form-script">
        document.addEventListener('DOMContentLoaded', function() {
            const contactForm = document.getElementById('contact-form');
            const inputs = contactForm.querySelectorAll('input, textarea');
            
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    this.nextElementSibling.style.transform = 'translateY(-1.5rem) scale(0.8)';
                    this.nextElementSibling.style.color = '#ffffff';
                });
                
                input.addEventListener('blur', function() {
                    if (!this.value) {
                        this.nextElementSibling.style.transform = 'translateY(0) scale(1)';
                        this.nextElementSibling.style.color = '#9ca3af';
                    }
                });
            });
            
            contactForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                const submitBtn = contactForm.querySelector('button[type="submit"]');
                const originalHTML = submitBtn.innerHTML;
                submitBtn.innerHTML = '<div class="loading-spinner"></div>';
                submitBtn.disabled = true;
                
                const formData = {
                    name: document.getElementById('name').value,
                    email: document.getElementById('email').value,
                    message: document.getElementById('message').value
                };

                try {
                    // Simulated server-side endpoint (replace with actual endpoint)
                    const response = await fetch('https://your-server-endpoint/send-email', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            to: 'ahsanking1099@gmail.com',
                            subject: `Contact Form Submission from ${formData.name}`,
                            body: `Name: ${formData.name}\nEmail: ${formData.email}\nMessage: ${formData.message}`
                        })
                    });

                    if (!response.ok) {
                        throw new Error('Failed to send email');
                    }

                    submitBtn.innerHTML = 'Message Sent!';
                    setTimeout(() => {
                        submitBtn.innerHTML = originalHTML;
                        submitBtn.disabled = false;
                        contactForm.reset();
                        inputs.forEach(input => {
                            input.nextElementSibling.style.transform = 'translateY(0) scale(1)';
                            input.nextElementSibling.style.color = '#9ca3af';
                        });
                    }, 2000);
                } catch (error) {
                    console.error('Error sending email:', error);
                    submitBtn.innerHTML = 'Failed to Send';
                    setTimeout(() => {
                        submitBtn.innerHTML = originalHTML;
                        submitBtn.disabled = false;
                    }, 2000);
                }
            });
        });
    </script>

    <script id="smooth-scrolling-script">
        document.addEventListener('DOMContentLoaded', function() {
            const links = document.querySelectorAll('a[href^="#"]');
            
            links.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    
                    if (targetSection) {
                        const offsetTop = targetSection.offsetTop - 64;
                        window.scrollTo({
                            top: offsetTop,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        });
    </script>
</body>
</html>
